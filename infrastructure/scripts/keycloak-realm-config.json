{
  "realm": "marketplace",
  "enabled": true,
  "displayName": "Marketplace Platform",
  "displayNameHtml": "<strong>Marketplace</strong> Platform",
  "registrationAllowed": true,
  "registrationEmailAsUsername": true,
  "rememberMe": true,
  "verifyEmail": true,
  "loginWithEmailAllowed": true,
  "duplicateEmailsAllowed": false,
  "resetPasswordAllowed": true,
  "editUsernameAllowed": false,
  "bruteForceProtected": true,
  "permanentLockout": false,
  "maxFailureWaitSeconds": 900,
  "minimumQuickLoginWaitSeconds": 60,
  "waitIncrementSeconds": 60,
  "quickLoginCheckMilliSeconds": 1000,
  "maxDeltaTimeSeconds": 43200,
  "failureFactor": 30,
  "defaultSignatureAlgorithm": "RS256",
  "offlineSessionMaxLifespanEnabled": false,
  "offlineSessionMaxLifespan": 5184000,
  "clientSessionIdleTimeout": 0,
  "clientSessionMaxLifespan": 0,
  "clientOfflineSessionIdleTimeout": 0,
  "clientOfflineSessionMaxLifespan": 0,
  "accessTokenLifespan": 300,
  "accessTokenLifespanForImplicitFlow": 900,
  "ssoSessionIdleTimeout": 1800,
  "ssoSessionMaxLifespan": 36000,
  "ssoSessionIdleTimeoutRememberMe": 0,
  "ssoSessionMaxLifespanRememberMe": 0,
  "offlineSessionIdleTimeout": 2592000,
  "accessCodeLifespan": 60,
  "accessCodeLifespanUserAction": 300,
  "accessCodeLifespanLogin": 1800,
  "actionTokenGeneratedByAdminLifespan": 43200,
  "actionTokenGeneratedByUserLifespan": 300,
  "roles": {
    "realm": [
      {
        "name": "buyer",
        "description": "Basic user who can browse and purchase items",
        "composite": false,
        "clientRole": false,
        "containerId": "marketplace"
      },
      {
        "name": "seller",
        "description": "User who can list items for sale",
        "composite": true,
        "composites": {
          "realm": ["buyer"]
        },
        "clientRole": false,
        "containerId": "marketplace"
      },
      {
        "name": "business_seller",
        "description": "Verified business seller with additional features",
        "composite": true,
        "composites": {
          "realm": ["seller"]
        },
        "clientRole": false,
        "containerId": "marketplace"
      },
      {
        "name": "premium_seller",
        "description": "Premium seller with advanced analytics and features",
        "composite": true,
        "composites": {
          "realm": ["business_seller"]
        },
        "clientRole": false,
        "containerId": "marketplace"
      },
      {
        "name": "moderator",
        "description": "Platform moderator who can review and approve listings",
        "composite": false,
        "clientRole": false,
        "containerId": "marketplace"
      },
      {
        "name": "admin",
        "description": "Platform administrator with full access",
        "composite": true,
        "composites": {
          "realm": ["moderator", "premium_seller"]
        },
        "clientRole": false,
        "containerId": "marketplace"
      }
    ]
  },
  "defaultRole": {
    "name": "buyer",
    "description": "Default role for new users",
    "composite": false
  },
  "requiredCredentials": ["password"],
  "otpPolicyType": "totp",
  "otpPolicyAlgorithm": "HmacSHA1",
  "otpPolicyInitialCounter": 0,
  "otpPolicyDigits": 6,
  "otpPolicyLookAheadWindow": 1,
  "otpPolicyPeriod": 30,
  "otpSupportedApplications": ["FreeOTP", "Google Authenticator"],
  "passwordPolicy": "length(8) and lowerCase(1) and upperCase(1) and digits(1) and specialChars(1) and notUsername",
  "clients": [
    {
      "clientId": "marketplace-backend",
      "name": "Marketplace Backend Services",
      "description": "Backend API services client",
      "rootUrl": "http://localhost:5000",
      "adminUrl": "http://localhost:5000",
      "baseUrl": "http://localhost:5000",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "secret": "marketplace-backend-secret",
      "redirectUris": ["http://localhost:5000/*"],
      "webOrigins": ["http://localhost:5000"],
      "notBefore": 0,
      "bearerOnly": true,
      "consentRequired": false,
      "standardFlowEnabled": false,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": true,
      "serviceAccountsEnabled": true,
      "publicClient": false,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "fullScopeAllowed": true,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "roles", "profile", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access", "microprofile-jwt"]
    },
    {
      "clientId": "marketplace-frontend",
      "name": "Marketplace Frontend Application",
      "description": "NextJS frontend application",
      "rootUrl": "http://localhost:3000",
      "adminUrl": "http://localhost:3000",
      "baseUrl": "http://localhost:3000",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "http://localhost:3000/*",
        "http://localhost:3001/*"
      ],
      "webOrigins": [
        "http://localhost:3000",
        "http://localhost:3001"
      ],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": true,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "roles", "profile", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    },
    {
      "clientId": "marketplace-mobile",
      "name": "Marketplace Mobile Application",
      "description": "React Native mobile application",
      "rootUrl": "",
      "adminUrl": "",
      "baseUrl": "",
      "surrogateAuthRequired": false,
      "enabled": true,
      "alwaysDisplayInConsole": false,
      "clientAuthenticatorType": "client-secret",
      "redirectUris": [
        "com.marketplace.app://oauth",
        "marketplace://oauth"
      ],
      "webOrigins": [],
      "notBefore": 0,
      "bearerOnly": false,
      "consentRequired": false,
      "standardFlowEnabled": true,
      "implicitFlowEnabled": false,
      "directAccessGrantsEnabled": true,
      "serviceAccountsEnabled": false,
      "publicClient": true,
      "frontchannelLogout": false,
      "protocol": "openid-connect",
      "fullScopeAllowed": false,
      "nodeReRegistrationTimeout": -1,
      "defaultClientScopes": ["web-origins", "roles", "profile", "email"],
      "optionalClientScopes": ["address", "phone", "offline_access"]
    }
  ],
  "identityProviders": [
    {
      "alias": "google",
      "displayName": "Google",
      "internalId": "google",
      "providerId": "google",
      "enabled": true,
      "trustEmail": true,
      "storeToken": false,
      "addReadTokenRoleOnCreate": false,
      "authenticateByDefault": false,
      "linkOnly": false,
      "firstBrokerLoginFlowAlias": "first broker login",
      "config": {
        "clientId": "${env.GOOGLE_CLIENT_ID}",
        "clientSecret": "${env.GOOGLE_CLIENT_SECRET}",
        "defaultScope": "openid profile email",
        "hostedDomain": "",
        "userIp": "false",
        "offlineAccess": "false"
      }
    },
    {
      "alias": "facebook",
      "displayName": "Facebook",
      "internalId": "facebook",
      "providerId": "facebook",
      "enabled": true,
      "trustEmail": true,
      "storeToken": false,
      "addReadTokenRoleOnCreate": false,
      "authenticateByDefault": false,
      "linkOnly": false,
      "firstBrokerLoginFlowAlias": "first broker login",
      "config": {
        "clientId": "${env.FACEBOOK_CLIENT_ID}",
        "clientSecret": "${env.FACEBOOK_CLIENT_SECRET}",
        "defaultScope": "email",
        "userIp": "false"
      }
    }
  ],
  "userFederationProviders": [],
  "userFederationMappers": [],
  "authenticationFlows": [],
  "authenticatorConfig": [],
  "requiredActions": [],
  "browserFlow": "browser",
  "registrationFlow": "registration",
  "directGrantFlow": "direct grant",
  "resetCredentialsFlow": "reset credentials",
  "clientAuthenticationFlow": "clients",
  "dockerAuthenticationFlow": "docker auth",
  "smtpServer": {
    "host": "${env.SMTP_HOST}",
    "port": "${env.SMTP_PORT}",
    "from": "${env.SMTP_FROM}",
    "fromDisplayName": "Marketplace Platform",
    "ssl": "false",
    "starttls": "true",
    "auth": "true",
    "user": "${env.SMTP_USER}",
    "password": "${env.SMTP_PASSWORD}"
  },
  "eventsEnabled": true,
  "eventsListeners": ["jboss-logging"],
  "enabledEventTypes": [
    "SEND_RESET_PASSWORD",
    "UPDATE_CONSENT",
    "GRANT_CONSENT",
    "REMOVE_TOTP",
    "UPDATE_TOTP",
    "CREATE_TOTP",
    "REMOVE_CONSENT",
    "REVOKE_GRANT",
    "UPDATE_EMAIL",
    "REGISTER",
    "DELETE_ACCOUNT",
    "UPDATE_PASSWORD",
    "UPDATE_PROFILE",
    "VERIFY_EMAIL",
    "LOGOUT",
    "LOGIN",
    "LOGIN_ERROR",
    "REGISTER_ERROR"
  ],
  "adminEventsEnabled": true,
  "adminEventsDetailsEnabled": true,
  "internationalizationEnabled": true,
  "supportedLocales": ["en", "es", "fr", "de", "pt", "it"],
  "defaultLocale": "en"
}